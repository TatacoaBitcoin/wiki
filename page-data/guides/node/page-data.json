{"componentChunkName":"component---src-templates-docs-js","path":"/guides/node","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Gitbook Boilerplate | Hasura","docsLocation":"https://github.com/hasura/gatsby-gitbook-boilerplate/tree/master/content"}},"mdx":{"fields":{"id":"0388c313-4231-5868-a185-7736a85298df","title":"Node","slug":"/guides/node"},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Node\",\n  \"metaTitle\": \"Guías - Node\",\n  \"metaDescription\": \"How-to guides\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"First Deployment\"), mdx(\"h2\", null, \"nvm\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"# curl https://raw.githubusercontent.com/creationix/nvm/master/install.sh | bash\\n# source ~/.bashrc\\n\")), mdx(\"h2\", null, \"Node\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"# nvm install node\\n# node --version\\n\")), mdx(\"h2\", null, \"Code\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"# git clone git@github.com:tatacoa/tatacoa-api.git /var/www/html/api.tatacoabitcoin.com\\n# cd /var/www/html/api.tatacoabitcoin.com\\n# npm install\\n# grep \\\"process.env\\\" app.js controllers/* middleware/* models/* routes/* utils/*\\n# vi .env\\n\")), mdx(\"h2\", null, \"Api service\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"# npm install pm2 -g\\n# pm2 start -n api index.js -p 8009\\n# pm2 ls\\n# pm2 restart 0\\n# pm2 startup systemd\\n# systemctl status pm2-root\\n\")), mdx(\"h2\", null, \"Nginx\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"# vi /etc/nginx/sites-available/api.tatacoabitcoin.com.conf\\n\\nserver {\\n    server_name api.tatacoabitcoin.com;\\n    access_log /var/log/nginx/api.tatacoabitcoin.com-access.log;\\n    error_log /var/log/nginx/api.tatacoabitcoin.com-error.log;\\n\\n    location / {\\n      proxy_set_header X-Real-IP $remote_addr;\\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n      proxy_set_header Host $http_host;\\n      proxy_set_header X-NginX-Proxy true;\\n\\n      proxy_set_header X-Forwarded-Proto $scheme;\\n      proxy_set_header Upgrade $http_upgrade;\\n      proxy_set_header Connection $connection_upgrade;\\n\\n      proxy_redirect off;\\n      proxy_buffering off;\\n\\n      proxy_pass http://127.0.0.1:8003;\\n    }\\n}\\n\\n# ln -s /etc/nginx/sites-available/api.tatacoabitcoin.com.conf /etc/nginx/sites-enabled/\\n# nginx -t\\n# systemctl restart nginx\\n\")), mdx(\"h2\", null, \"SSL\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"# certbot\\n# systemctl restart nginx\\n\")), mdx(\"h1\", null, \"Update\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"# ssh\\n# cd /var/www/html/api.tatacoabitcoin.com\\n# git pull\\n# pm2 ls\\n# pm2 restart\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#first-deployment","title":"First Deployment","items":[{"url":"#nvm","title":"nvm"},{"url":"#node","title":"Node"},{"url":"#code","title":"Code"},{"url":"#api-service","title":"Api service"},{"url":"#nginx","title":"Nginx"},{"url":"#ssl","title":"SSL"}]},{"url":"#update","title":"Update"}]},"parent":{"relativePath":"guides/node.md"},"frontmatter":{"metaTitle":"Guías - Node","metaDescription":"How-to guides"}},"allMdx":{"edges":[{"node":{"fields":{"slug":"/guides","title":"Guías"}}},{"node":{"fields":{"slug":"/","title":"Tatacoa Wiki"}}},{"node":{"fields":{"slug":"/guides/debian","title":"Debian Server"}}},{"node":{"fields":{"slug":"/guides/dev","title":"Dev"}}},{"node":{"fields":{"slug":"/guides/btcpay","title":"BTCPay Server"}}},{"node":{"fields":{"slug":"/guides/gatsby","title":"Gatsby"}}},{"node":{"fields":{"slug":"/guides/lnd","title":"LND"}}},{"node":{"fields":{"slug":"/guides/lnbits","title":"LNBits"}}},{"node":{"fields":{"slug":"/guides/mysql","title":"MySQL"}}},{"node":{"fields":{"slug":"/guides/node","title":"Node"}}},{"node":{"fields":{"slug":"/guides/ops","title":"OPS"}}},{"node":{"fields":{"slug":"/guides/prestashop","title":"Prestashop"}}},{"node":{"fields":{"slug":"/guides/psql","title":"PSQL"}}},{"node":{"fields":{"slug":"/guides/react","title":"React"}}},{"node":{"fields":{"slug":"/guides/wordpress","title":"Wordpress"}}},{"node":{"fields":{"slug":"/guides/nextjs","title":"NextJS"}}}]}},"pageContext":{"id":"0388c313-4231-5868-a185-7736a85298df"}},"staticQueryHashes":["2619113677","3706406642","417421954"]}